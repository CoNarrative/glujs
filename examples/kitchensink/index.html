<!DOCTYPE html>
<html lang="en">
<head>
    <title>CoNarrative GlusJS - Playground</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <style type="text/css" media="screen">
        #view {
            position: relative;
            height: 800px;
        }

        #model {
            position: relative;
            height: 800px;
        }

        #specs {
            position: relative;
            height: 800px;
        }

        #preview {
            /*width: 100%;*/
            /*height: 100%;*/
            height: 800px;
        }

        #app {
            width: 100%;
            height: 100%;
        }

        #runner {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
<script type="text/javascript" src="../../lib/extjs-4.x/ext-all.js"></script>
<link rel="stylesheet" type="text/css" href="../../lib/extjs-4.x/resources/ext-theme-neptune/ext-theme-neptune-all.css">
<script type="text/javascript">glu = {debug: true};</script>
<script type="text/javascript" src="../../build/glu-extjs-4.js"></script>
<script type="text/javascript" src="../../build/glu.js"></script>
<script type="text/javascript" src="../../build/glu-test.js"></script>
<script src="http://rawgithub.com/ajaxorg/ace-builds/master/src-noconflict/ace.js" type="text/javascript"
        charset="utf-8"></script>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="lib/bootstrap/js/bootstrap.min.js"></script>
<script src="lib/underscore.js"></script>
<script src="lib/handlebars.js"></script>
<script src="lib/backbone/backbone.js"></script>
<script src="lib/backboneish.js"></script>
<script src="lib/async.js"></script>


<script src="editor/views/editor-view.js"></script>
<script src="editor/viewmodels/editor-vm.js"></script>


<script type="text/javascript" src="lib/pubsubjs.js"></script>
<script>
    $(function () {

        var editorvm = glu.model('ks.editor');
        editorvm.init();
        var editorview = new ks.EditorView({model: editorvm});
//        PubSub.subscribe('appFrameLoaded', function (message, doc) {
//            console.log('App frame loaded')
//
//            PubSub.publish('appUpdated')
//            //var content = editor2.getSession().getValue();
//            //PubSub.publish('abc', content);
//
//        });

//        $('#preview-btn').on('click', function () {
//
//            eval(editor1.getSession().getValue());
//            $('#preview').empty();
//            var vm = glu.model('ks.login');  //Hard coded for now
//            vm.init()
//
//            var view = glu.view(vm);
//            new Ext.Panel({
//                layout: 'fit',
//                renderTo: 'preview',
//                items: [view]
//            });
//        });
//
//        $('#specs-btn').on('click', function () {
//            var content = editor2.getSession().getValue();
//            $('#preview').empty();
//            $('#preview').append("<iframe id='specs' src='specs/runner.html'></iframe>");
//
//        });
//        pubSub = PubSub;
//        PubSub.subscribe('RunnerLoaded', function (message, doc) {
//
//            var content = editor2.getSession().getValue();
//            PubSub.publish('abc', content);
//
//        });
    });
</script>
<script id="main-template" type="text/x-handlebars-template">
    <div class="row-fluid">
        <div class="span12">
            <!--/********************************** NAV BAR **********************************/-->
            <div class="navbar">
                <div class="navbar-inner">
                    <div class="container">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="#">Title</a>

                        <div class="nav-collapse collapse navbar-responsive-collapse">
                            <ul class="nav">
                                <li class="active"><a href="#">Home</a></li>
                                <li><a href="#">Link</a></li>
                                <li><a href="#">Link</a></li>
                                <li class="dropdown">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b
                                            class="caret"></b></a>
                                    <ul class="dropdown-menu">
                                        <li><a href="#">Action</a></li>
                                        <li><a href="#">Another action</a></li>
                                        <li><a href="#">Something else here</a></li>
                                        <li class="divider"></li>
                                        <li class="nav-header">Nav header</li>
                                        <li><a href="#">Separated link</a></li>
                                        <li><a href="#">One more separated link</a></li>
                                    </ul>
                                </li>
                            </ul>
                            <ul class="nav pull-right">
                                <li><a href="#">Link</a></li>
                                <li class="divider-vertical"></li>
                                <li class="dropdown">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b
                                            class="caret"></b></a>
                                    <ul class="dropdown-menu">
                                        <li><a href="#">Action</a></li>
                                        <li><a href="#">Another action</a></li>
                                        <li><a href="#">Something else here</a></li>
                                        <li class="divider"></li>
                                        <li><a href="#">Separated link</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <!-- /.nav-collapse -->
                    </div>
                </div>
                <!-- /navbar-inner -->
            </div>
            <div class="row-fluid">
                <!--/********************************** SIDE BAR **********************************/-->
                <div class="span2">
                    <h3>Examples </h3>

                    <div class="accordion" id="examples-accord">
                        <div class="accordion-group">
                            <div class="accordion-heading">
                                <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion2"
                                   href="#collapseOne">
                                    Forms
                                </a>
                            </div>
                            <div id="collapseOne" class="accordion-body collapse" style="height: 0px;">
                                <div class="accordion-inner">
                                    <ul>
                                        <li><a href="#loginform" data-exampleName="loginform">Login Form</a></li>
                                        <li><a href="#advancedform" data-exampleName="advancedform">Advanced Form</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-group">
                            <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2"
                                   href="#collapseTwo">
                                    More coming soon!!!
                                </a>
                            </div>
                            <div id="collapseTwo" class="accordion-body collapse">
                                <div class="accordion-inner">
                                    <a href="#gridbasic">Grid Basic</a>
                                    <a href="#gridadvanced">Grid Advanced</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!--/********************************** CODE **********************************/-->
                <div class="span5">
                    <button type="button" class="preview-btn btn pull-right">Preview</button>
                    <button type="button" class="runspecs-btn btn pull-right">Run Tests</button>
                    <ul class="nav nav-tabs" id="myTab">
                        <li class="active"><a href="#view">View</a></li>
                        <li><a href="#model">Model</a></li>
                        <li><a href="#specs">Specs</a></li>
                    </ul>

                    <div class="tab-content">
                        <div class="tab-pane active" id="view"></div>
                        <div class="tab-pane" id="model"></div>
                        <div class="tab-pane" id="specs"></div>
                    </div>
                </div>
                <!--/********************************** PREVIEW **********************************/-->
                <div id="preview" class="span5"></div>

            </div>
        </div>
    </div>
</script>
</body>
</html>