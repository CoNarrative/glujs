<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Kitchen SinkSpec Runner</title>

    <link href="../lib/jasmine/jasmine.css" rel="stylesheet"/>
    <script type="text/javascript" src="../lib/jasmine/jasmine.js"></script>
    <script type="text/javascript" src="../lib/jasmine/jasmine-html.js"></script>
    <script type="text/javascript">
        // yes, really keep this here to keep us honest, but only for jasmine's own runner! [xw]
        undefined = "diz be undefined yo";
    </script>
    <!-- library files -->
    <script type="text/javascript" src="../../../lib/extjs-4.x/ext-all.js"></script>
    <script type="text/javascript" src="../../../build/glu-extjs-4.js"></script>
    <script type="text/javascript" src="../../../build/glu.js"></script>
    <script type="text/javascript" src="../../../build/glu-test.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="../lib/pubsubjs.js"></script>

    <!-- source files -->
    <script type="text/javascript" src="../locale/locale_en.js"></script>
    <script type="text/javascript" src="../models/example_model.js"></script>

    <script type="text/javascript" src="../viewmodels/main_vm.js"></script>
    <script type="text/javascript" src="../viewmodels/login_vm.js"></script>

    <script type="text/javascript" src="../views/extjs/main_view.js"></script>
    <script type="text/javascript" src="../views/extjs/login_view.js"></script>

    <!-- include spec files here... -->
    <!--<script type="text/javascript" src="backend.js"></script>-->
    <!--<script type="text/javascript" src="login-spec.js"></script>-->
    <!--<script type="text/javascript" src="spec.js"></script>-->


</head>

<body>
<script type="text/javascript">

    glu.setTestMode();
    var jasmineEnv = jasmine.getEnv();
    jasmineEnv.updateInterval = 1000;

    var htmlReporter = new jasmine.HtmlReporter();

    jasmineEnv.addReporter(htmlReporter);

    jasmineEnv.specFilter = function (spec) {
        return htmlReporter.specFilter(spec);
    };

    function execJasmine() {
        jasmineEnv.execute();
    }

    function loadContentAndRun(content) {
        eval(content);
        execJasmine();
    }
    function setPubSub(PubSub) {
        window.PubSub = PubSub;
    }

    $(function () {
        PubSub = window.parent.PubSub;
        PubSub.subscribe('abc', function (message, content) {

            eval(content);
            execJasmine();
        });
        //execJasmine();
        PubSub.publish('RunnerLoaded', this);


    });
</script>
</body>
</html>